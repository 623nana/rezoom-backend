<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nexters.rezoom.repository.SearchRepository">
    <!-- resultType수정 필요 -->
    <select id="getResumeByHashTag" resultType="Question">
        SELECT question_id, resume_id, user_name, title, content
        FROM question
        WHERE question_id IN (SELECT question_id
        from question_has_hashtag q, hashtag h where q.hashtag_id = h.hashtag_id
        AND (
        <foreach collection="hashList" item="item" separator="or">
            hashtag_keyword IN ( #{item, jdbcType=VARCHAR} )
        </foreach>
        ))
    </select>
</mapper>